"use strict";(self.webpackChunkdelivery_app=self.webpackChunkdelivery_app||[]).push([[689],{8689:function(n,e,t){t.r(e),t.d(e,{default:function(){return tn}});var r,i,o,a,s,l,d,c,u,p,x,h,f,g,m,Z,y=t(1413),b=t(8973),j=t(1358),v=t(168),w=t(6444),P=w.ZP.div(r||(r=(0,v.Z)(["\n  border: 2px solid grey;\n  border-radius: 20px;\n  padding: 20px;\n  width: 49%;\n"]))),k=w.ZP.ul(i||(i=(0,v.Z)(["\n  display: flex;\n  flex-direction: column;\n  height: 500px;\n  overflow: scroll;\n"]))),C=w.ZP.li(o||(o=(0,v.Z)(["\n  padding: 15px;\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n  border: 1px solid black;\n  border-radius: 20px;\n  &:not(:last-child) {\n    margin-bottom: 20px;\n  }\n"]))),z=w.ZP.div(a||(a=(0,v.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  width: 45%;\n  height: 240px;\n  & > p {\n    font-size: 22px;\n    font-weight: 600;\n    font-style: normal;\n    text-align: center;\n  }\n  & > p:nth-child(2) {\n    margin-bottom: 20px;\n    margin-top: 20px;\n  }\n"]))),F=w.ZP.div(s||(s=(0,v.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 5px;\n  & > p {\n    font-size: 24px;\n    font-weight: 700;\n    font-style: normal;\n  }\n"]))),S=w.ZP.button(l||(l=(0,v.Z)(["\n  width: 40px;\n  height: 40px;\n  font-size: 35px;\n  background-color: green;\n"]))),q=(w.ZP.p(d||(d=(0,v.Z)([""]))),w.ZP.button(c||(c=(0,v.Z)(["\n  width: 40px;\n  height: 40px;\n  font-size: 35px;\n  background-color: red;\n"])))),N=w.ZP.p(u||(u=(0,v.Z)(["\n  font-size: 28px;\n  font-weight: 700;\n  font-style: normal;\n  text-align: center;\n"]))),T=t(3329),_=function(){var n=(0,j.C)((function(n){return n.basket.goods})),e=(0,j.C)((function(n){return n.basket})),t=(0,j.T)();return(0,T.jsx)(P,{children:(0,T.jsxs)(k,{children:[n.length>0&&n.map((function(n){return(0,T.jsxs)(C,{children:[(0,T.jsx)("div",{children:(0,T.jsx)("img",{src:n.image,alt:"Alt"})}),(0,T.jsxs)(z,{children:[(0,T.jsx)("p",{children:n.label}),(0,T.jsxs)("p",{children:["Price: ",n.price*n.count]}),(0,T.jsxs)(F,{children:[(0,T.jsx)(q,{id:String(n.id),"data-action":"increment",onClick:function(){return function(n){for(var r=0,i=[e];r<i.length;r++){var o=i[r],a=o.goods.find((function(e){return e.id===n}));if(a){var s=(0,y.Z)((0,y.Z)({},o),{},{goods:[a]});t((0,b.bm)(s))}}}(n.id)},children:"-"}),(0,T.jsx)("p",{children:n.count}),(0,T.jsx)(S,{onClick:function(){return function(n){for(var r=0,i=[e];r<i.length;r++){var o=i[r],a=o.goods.find((function(e){return e.id===n}));if(a){var s=(0,y.Z)((0,y.Z)({},o),{},{goods:[a]});t((0,b.bC)(s))}}}(n.id)},children:"+"})]})]})]},n.id)})),0===n.length&&(0,T.jsx)(N,{children:"You don't choose any products yet"})]})})},A=t(4165),D=t(5861),W=t(4942),Y=t(9439),B=w.ZP.div(p||(p=(0,v.Z)(["\n  border: 1px solid grey;\n  border-radius: 20px;\n  padding: 20px;\n  width:49%;\n"]))),E=w.ZP.form(x||(x=(0,v.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),M=w.ZP.label.attrs((function(n){return{htmlFor:n.htmlFor}}))(h||(h=(0,v.Z)(["\n  font-size: 22px;\n  font-weight: 600;\n  font-style: normal;\n  margin-bottom: 15px;\n"]))),G=w.ZP.input.attrs((function(n){return{type:n.type,placeholder:n.placeholder,id:n.id}}))(f||(f=(0,v.Z)(["\n  font-size: 20px;\n  font-weight: 500;\n  font-style: normal;\n  padding: 10px;\n  &:not(:last-child) {\n    margin-bottom: 20px;\n  }\n"]))),H=w.ZP.div(g||(g=(0,v.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n"]))),I=w.ZP.p(m||(m=(0,v.Z)(["\n  font-size: 30px;\n  font-weight: 700;\n  font-style: normal;\n"]))),J=w.ZP.button(Z||(Z=(0,v.Z)(["\n  border-radius: 5px;\n  background-color: aqua;\n  font-size: 24px;\n  font-weight: 600;\n  padding: 10px 20px;\n  font-style: normal;\n  margin-left: 100px;\n"]))),K=t(2791),L=t(1686),O=t.n(L),Q=t(1243),R="https://plum-proud-camel.cyclic.app";function U(){return(U=(0,D.Z)((0,A.Z)().mark((function n(e){var t;return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Q.Z.post("".concat(R,"/users"),e);case 3:return t=n.sent,n.abrupt("return",t.data);case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}var V,X=function(n){return U.apply(this,arguments)},$=function(){var n=(0,j.C)((function(n){return n.basket.goods})),e=(0,j.T)(),t=(0,K.useState)({name:"",email:"",phone:"",address:""}),r=(0,Y.Z)(t,2),i=r[0],o=r[1],a=function(n){var e=n.target,t=e.id,r=e.value;o((function(n){return(0,y.Z)((0,y.Z)({},n),{},(0,W.Z)({},t,r))}))},s=function(){var t=(0,D.Z)((0,A.Z)().mark((function t(r){var o,a,s,l,d,c,u;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),n.length){t.next=4;break}return O().Notify.info("Please, choose any products"),t.abrupt("return");case 4:return o=new Date,a=String(o.getDate()).padStart(2,"0"),s=String(o.getMonth()+1).padStart(2,"0"),l=o.getFullYear(),d="".concat(a,"/").concat(s,"/").concat(l),c={user:i,products:n,date:d},t.next=12,X(c);case 12:if(200===(u=t.sent).code){t.next=16;break}return O().Notify.failure("".concat(u.message)),t.abrupt("return");case 16:O().Notify.success("Thank's for your order. We call you soon"),e((0,b.hB)({shop_id:0,shop_name:"",goods:[]}));case 18:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return(0,T.jsx)(B,{children:(0,T.jsxs)(E,{onSubmit:s,children:[(0,T.jsx)(M,{htmlFor:"name",children:"Name:"}),(0,T.jsx)(G,{type:"text",required:!0,id:"name",value:i.name,autoFocus:!0,onChange:a,placeholder:"Name"}),(0,T.jsx)(M,{htmlFor:"email",children:"Email:"}),(0,T.jsx)(G,{type:"email",required:!0,value:i.email,placeholder:"email@gmail.com",onChange:a,id:"email"}),(0,T.jsx)(M,{htmlFor:"phone",children:"Phone:"}),(0,T.jsx)(G,{type:"number",required:!0,value:i.phone,placeholder:"xxx xxx xx xx",onChange:a,id:"phone"}),(0,T.jsx)(M,{htmlFor:"address",children:"Address:"}),(0,T.jsx)(G,{type:"text",required:!0,value:i.address,placeholder:"Address",onChange:a,id:"address"}),(0,T.jsxs)(H,{children:[(0,T.jsxs)(I,{children:["Total price:",n.reduce((function(n,e){return n+e.price*e.count}),0).toFixed(2)]}),(0,T.jsx)(J,{onSubmit:s,children:"Submit order"})]})]})})},nn=t(9219),en=w.ZP.div(V||(V=(0,v.Z)(["\n  display: flex;\n  align-items: stretch;\n  justify-content: space-between;\n  padding-bottom: 20px;\n"])));function tn(){return(0,T.jsx)("section",{children:(0,T.jsx)(nn.W,{children:(0,T.jsxs)(en,{children:[(0,T.jsx)($,{}),(0,T.jsx)(_,{})]})})})}}}]);
//# sourceMappingURL=689.15ffec31.chunk.js.map